<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LYNX Intelligence | Institutional Dispatch</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --paper-white: #ffffff;
            --ink-black: #121212;
            --accent-gold: #b38b4d;
            --news-gray: #f4f4f4;
            --border-soft: #d1d1d1;
            --bullish: #1a7d1a;
            --bearish: #b21203;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: var(--paper-white); color: var(--ink-black); font-family: 'Inter', sans-serif; overflow-x: hidden; }

        /* AUTH MODAL */
        #auth-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: none; z-index: 1000; align-items: center; justify-content: center; }
        .auth-card { background: white; padding: 40px; width: 350px; border-top: 5px solid var(--accent-gold); }
        .auth-card h2 { font-family: 'Playfair Display'; margin-bottom: 20px; }
        .auth-card input { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ddd; }
        .auth-btn { width: 100%; padding: 12px; background: var(--ink-black); color: white; border: none; cursor: pointer; font-weight: bold; }

        /* NAVIGATION & HEADER */
        .nav-bar { display: flex; justify-content: center; gap: 30px; padding: 15px; border-bottom: 1px solid var(--border-soft); background: #fff; position: sticky; top: 0; z-index: 100; }
        .nav-link { text-decoration: none; color: var(--ink-black); font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; cursor: pointer; }
        .nav-link:hover { color: var(--accent-gold); }

        .market-ticker { background: var(--ink-black); color: white; height: 35px; display: flex; align-items: center; font-size: 11px; overflow: hidden; }
        .ticker-track { display: flex; white-space: nowrap; animation: ticker-move 40s linear infinite; }
        @keyframes ticker-move { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        .ticker-item { margin-right: 40px; font-weight: 600; }

        header { padding: 40px 5%; text-align: center; border-bottom: 4px double var(--border-soft); }
        .brand { font-family: 'Playfair Display', serif; font-size: 56px; color: var(--ink-black); text-decoration: none; }
        
        /* CONTENT LAYOUT */
        .container { max-width: 1440px; margin: 0 auto; padding: 30px; display: grid; grid-template-columns: 300px 1fr 320px; gap: 40px; }
        .section-label { font-size: 12px; font-weight: 900; text-transform: uppercase; border-bottom: 2px solid var(--ink-black); margin-bottom: 15px; display: block; }

        /* PRICING PAGE (Hidden by default) */
        #pricing-page { display: none; padding: 60px 10%; text-align: center; }
        .price-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 40px; }
        .price-card { padding: 40px; border: 1px solid var(--border-soft); background: var(--news-gray); transition: 0.3s; }
        .price-card:hover { border-color: var(--accent-gold); transform: translateY(-5px); }
        .price-card.featured { background: var(--ink-black); color: white; }
        .price-card h2 { font-family: 'Playfair Display'; font-size: 28px; }
        .price-card .cost { font-size: 40px; font-weight: 800; margin: 20px 0; }

        /* WIDGETS */
        .card { background: var(--news-gray); padding: 20px; margin-bottom: 25px; border-radius: 2px; border: 1px solid #eee; }
        .liq-row { display: flex; justify-content: space-between; font-size: 12px; padding: 8px 0; border-bottom: 1px solid #ddd; }
        .up { color: var(--bullish); } .down { color: var(--bearish); }

        .timeframe-btn { padding: 4px 8px; font-size: 10px; border: 1px solid var(--border-soft); background: white; cursor: pointer; margin-right: 4px; }
        .timeframe-btn.active { background: var(--ink-black); color: white; }

        @media (max-width: 1100px) { .container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <div id="auth-overlay">
        <div class="auth-card">
            <h2 id="auth-title">System Login</h2>
            <input type="text" id="auth-user" placeholder="Username">
            <input type="password" id="auth-pass" placeholder="Password">
            <button class="auth-btn" onclick="handleAuth()">CONTINUE</button>
            <p id="auth-toggle" style="font-size: 11px; margin-top: 15px; cursor: pointer; text-align: center;" onclick="toggleAuthMode()">No account? Sign Up</p>
        </div>
    </div>

    <div class="market-ticker">
        <div class="ticker-track" id="ticker">Synchronizing Market Data...</div>
    </div>

    <header>
        <a href="#" class="brand" onclick="showPage('home')">LYNX INTELLIGENCE</a>
        <div style="font-size: 11px; letter-spacing: 3px; margin-top: 10px;" id="live-clock"></div>
    </header>

    <nav class="nav-bar">
        <div class="nav-link" onclick="showPage('home')">Home / News</div>
        <div class="nav-link" onclick="showPage('pricing')">Terminal Pricing</div>
        <div class="nav-link" id="user-display" onclick="showAuth()">Login</div>
    </nav>

    <div id="home-page" class="container">
        <aside>
            <span class="section-label">Institutional Radar</span>
            <div class="card">
                <input type="text" id="wallet-addr" placeholder="Wallet Address" style="width:100%; padding:8px; margin-bottom:10px;">
                <button class="auth-btn" style="padding:8px;" onclick="scanWallet()">QUERY ON-CHAIN</button>
                <div id="wallet-results" style="font-size: 12px; margin-top:10px;"></div>
            </div>

            <span class="section-label">Whale Movements</span>
            <div id="whale-list" class="card" style="font-size: 11px; max-height: 400px; overflow-y: auto;">
                Connecting to node...
            </div>
        </aside>

        <main>
            <span class="section-label">The Lead Despatch</span>
            <div id="hero-section"></div>
            <div id="news-grid" style="display:grid; grid-template-columns: 1fr 1fr; gap:20px;"></div>
        </main>

        <aside>
            <span class="section-label">Technical Outlook</span>
            <div class="card" style="padding:10px;">
                <div style="margin-bottom:10px;">
                    <button class="timeframe-btn active" onclick="changeInterval('1')">1m</button>
                    <button class="timeframe-btn" onclick="changeInterval('60')">1h</button>
                    <button class="timeframe-btn" onclick="changeInterval('240')">4h</button>
                    <button class="timeframe-btn" onclick="changeInterval('D')">1D</button>
                    <button class="timeframe-btn" onclick="changeInterval('M')">1M</button>
                </div>
                <div id="tv-container"></div>
            </div>

            <span class="section-label">Live Liquidations</span>
            <div class="card" id="liq-feed">
                Processing derivatives...
            </div>
        </aside>
    </div>

    <div id="pricing-page">
        <h1 style="font-family: 'Playfair Display'; font-size: 48px;">Terminal Access Tiers</h1>
        <p style="color: #666; margin-bottom: 40px;">Institutional grade data for serious capital allocators.</p>
        <div class="price-grid">
            <div class="price-card">
                <h2>Retail</h2>
                <div class="cost">$0</div>
                <ul style="list-style: none; font-size: 13px; line-height: 2;">
                    <li>Delayed Ticker (15m)</li>
                    <li>Standard News Feed</li>
                    <li>Basic TA Tools</li>
                </ul>
                <button class="auth-btn" style="margin-top:20px;">GET STARTED</button>
            </div>
            <div class="price-card featured">
                <h2>Pro Terminal</h2>
                <div class="cost">$49<span>/mo</span></div>
                <ul style="list-style: none; font-size: 13px; line-height: 2;">
                    <li>Real-time Liquidation Feed</li>
                    <li>Whale Alert Integration</li>
                    <li>Custom Timeframe TA</li>
                </ul>
                <button class="auth-btn" style="background: var(--accent-gold); margin-top:20px;">UPGRADE NOW</button>
            </div>
            <div class="price-card">
                <h2>Institution</h2>
                <div class="cost">$499<span>/mo</span></div>
                <ul style="list-style: none; font-size: 13px; line-height: 2;">
                    <li>Full API Access</li>
                    <li>Cold Wallet Tracking</li>
                    <li>Priority Node Support</li>
                </ul>
                <button class="auth-btn" style="margin-top:20px;">CONTACT SALES</button>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script>
        let isSignUp = false;
        let currentUser = JSON.parse(localStorage.getItem('lynx_session'));

        function toggleAuthMode() {
            isSignUp = !isSignUp;
            document.getElementById('auth-title').innerText = isSignUp ? "Create Account" : "System Login";
            document.getElementById('auth-toggle').innerText = isSignUp ? "Back to Login" : "No account? Sign Up";
        }

        function handleAuth() {
            const user = document.getElementById('auth-user').value;
            const pass = document.getElementById('auth-pass').value;
            if(!user || !pass) return alert("Fields required");

            if(isSignUp) {
                localStorage.setItem(`user_${user}`, pass);
                alert("Account created! Logging in...");
            } else {
                if(localStorage.getItem(`user_${user}`) !== pass) return alert("Invalid Credentials");
            }
            
            localStorage.setItem('lynx_session', JSON.stringify({user}));
            location.reload();
        }

        function showAuth() { document.getElementById('auth-overlay').style.display = 'flex'; }

        function showPage(page) {
            document.getElementById('home-page').style.display = page === 'home' ? 'grid' : 'none';
            document.getElementById('pricing-page').style.display = page === 'pricing' ? 'block' : 'none';
        }

        function changeInterval(interval) {
            new TradingView.widget({
                "width": "100%", "height": 400, "symbol": "BINANCE:BTCUSDT",
                "interval": interval, "timezone": "Etc/UTC", "theme": "light",
                "style": "1", "locale": "en", "container_id": "tv-container"
            });
            document.querySelectorAll('.timeframe-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
        }

        async function init() {
            if(currentUser) document.getElementById('user-display').innerText = `ACCESS: ${currentUser.user.toUpperCase()}`;
            
            // Time & Date
            setInterval(() => {
                document.getElementById('live-clock').innerText = new Date().toLocaleString('en-US', { weekday: 'long', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit' }).toUpperCase();
            }, 1000);

            // Fetch Data
            fetchNews();
            fetchTicker();
            updateWhales();
            updateLiqs();
            changeInterval('D');
        }

        async function fetchTicker() {
            const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana,cardano,ripple&vs_currencies=usd&include_24hr_change=true');
            const data = await res.json();
            const track = document.getElementById('ticker');
            track.innerHTML = Object.keys(data).map(k => `
                <span class="ticker-item">${k.toUpperCase()}: $${data[k].usd.toLocaleString()} 
                <span class="${data[k].usd_24h_change >= 0 ? 'up' : 'down'}">${data[k].usd_24h_change.toFixed(2)}%</span></span>
            `).join('') + " | SESSION SECURE | SYSTEM OK";
        }

        async function fetchNews() {
            const res = await fetch(`https://min-api.cryptocompare.com/data/v2/news/?lang=EN`);
            const json = await res.json();
            const articles = json.Data;
            
            document.getElementById('hero-section').innerHTML = `
                <div style="margin-bottom:30px; cursor:pointer;" onclick="window.open('${articles[0].url}')">
                    <h1 style="font-family:'Playfair Display'; font-size:36px;">${articles[0].title}</h1>
                    <p style="color:#666;">${articles[0].body.substring(0,200)}...</p>
                </div>`;
            
            document.getElementById('news-grid').innerHTML = articles.slice(1, 20).map(a => `
                <div style="border-bottom:1px solid #eee; padding-bottom:10px; cursor:pointer;" onclick="window.open('${a.url}')">
                    <span style="font-size:10px; color:var(--accent-gold); font-weight:800;">${a.source.toUpperCase()}</span>
                    <h3 style="font-family:'Playfair Display'; font-size:16px;">${a.title}</h3>
                </div>
            `).join('');
        }

        function updateWhales() {
            // High-speed simulated institutional feed (updates every 5s)
            const actions = ['ACCUMULATED', 'TRANSFERRED', 'DUMPED', 'BOUGHT'];
            const coins = ['BTC', 'ETH', 'USDC', 'SOL'];
            let html = '';
            for(let i=0; i<8; i++) {
                const amt = (Math.random() * 50 + 10).toFixed(1);
                html += `<div style="padding:10px; border-bottom:1px solid #ddd;">
                    <strong>WHALE ${actions[Math.floor(Math.random()*4)]}</strong><br>
                    $${amt}M worth of ${coins[Math.floor(Math.random()*4)]} <br>
                    <span style="font-size:9px; color:#888;">TX: 0x${Math.random().toString(16).slice(2,12)}...</span>
                </div>`;
            }
            document.getElementById('whale-list').innerHTML = html;
        }

        function updateLiqs() {
            const exch = ['Binance', 'Bybit', 'OKX', 'Deribit'];
            document.getElementById('liq-feed').innerHTML = exch.map(e => `
                <div class="liq-row">
                    <span>${e}</span>
                    <span class="${Math.random() > 0.5 ? 'up' : 'down'}">$${(Math.random()*15).toFixed(1)}M</span>
                </div>
            `).join('');
        }

        init();
        setInterval(updateWhales, 10000);
    </script>
</body>
</html>